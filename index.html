<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Minla" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="拉风的名字 Minla">
<meta property="og:url" content="https://gewu851755259.github.io/index.html">
<meta property="og:site_name" content="拉风的名字 Minla">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Minla">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="拉风的名字 Minla" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">



    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>拉风的名字 Minla</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/yeah.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Minla</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:gewu851755259@163.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/gewu851755259?tab=repositories" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%81%B0%E9%A5%AD/" rel="tag">恰饭</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%B4-%E7%AB%8B%E5%86%AC%E5%89%8D%E4%B8%80%E5%A4%A9/" rel="tag">晴(立冬前一天)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%A8/" rel="tag">雨</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Minla</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/yeah.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Minla</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:gewu851755259@163.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/gewu851755259?tab=repositories" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-公司聚餐" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/02/25/%E5%85%AC%E5%8F%B8%E8%81%9A%E9%A4%90/" class="article-date">
      <time datetime="2021-02-25T06:50:35.000Z" itemprop="datePublished">2021-02-25</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/25/%E5%85%AC%E5%8F%B8%E8%81%9A%E9%A4%90/">公司聚餐</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&emsp;&emsp;新年伊始，为增进全员感情交流，树立良好的企业文化，公司决定于今日举行聚餐活动，诚邀全体同仁参加，聚餐安排通知如下：</p>
<p>&emsp;&emsp;<strong>聚餐地点：</strong>欣悦府餐厅-悦畅轩房间，地址：北京市海淀区北三环北太平庄桥东北角城建大厦C座五层（停车可到地下停车场B3或者B4乘A、C座电梯直接上五层即到）</p>
<p>&emsp;&emsp;<strong>聚餐时间：</strong>2021年2月25日（今日）    18:30开始</p>
<p>&emsp;&emsp;<strong>聚餐人员：</strong>北京星球时空科技有限公司全体员工</p>
<p>&emsp;&emsp;<strong>交通安排：</strong>聚餐地点在城建大厦，距离公司相对较近，请大家结伴前往，路上请注意安全。</p>
<p>&emsp;&emsp;请全体员工务必参加，如特殊情况不能参加，请于就餐前告知部门经理及行政财务部。</p>
<p>&emsp;&emsp;以上如有疑问请及时联系行政财务部！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%81%B0%E9%A5%AD/" rel="tag">恰饭</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2021-FLAG" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/02/25/2021-FLAG/" class="article-date">
      <time datetime="2021-02-25T06:07:38.000Z" itemprop="datePublished">2021-02-25</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/25/2021-FLAG/">2021-FLAG</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <ul>
<li>完成2020未完成的去故宫一次。</li>
<li>QQ农场升10级(164级 -&gt; 174级)；升3块蓝晶土地(1块 -&gt; 4块)。</li>
<li>看一本java script-boot的书。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MVC、MVP、MVVM学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/06/29/MVC%E3%80%81MVP%E3%80%81MVVM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
      <time datetime="2020-06-29T05:55:38.000Z" itemprop="datePublished">2020-06-29</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/29/MVC%E3%80%81MVP%E3%80%81MVVM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">MVC|MVP|MVVM学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、MVC"><a href="#一、MVC" class="headerlink" title="一、MVC"></a>一、MVC</h1><h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>布局文件全部都属于View，但是不是只要有布局文件就可以在手机上显示，要有Avtivity的配合，所以Activity中也必不可少的有View的部分。</p>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>Controller是控制器，都在Activity中，常见的功能有:</p>
<ol>
<li>给按钮添加点击事件；</li>
<li>给View设置文字、图片等。</li>
</ol>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>Model是管理数据模型，例如：</p>
<ol>
<li>网络请求获取到的数据，通过回调传给Controller，也就是Activity，然后Activity再将数据设置给View。</li>
</ol>
<p>现在Android推出了AndroidViewModel，可以对模型中的数据调用observe方法进行监测，不论是基本数据类型还是自定义bean都可以监测；</p>
<p>AndroidViewModel相较于自己写的Model:</p>
<ol>
<li>省去了对回调的定义</li>
<li>更容易的去单独管理数据，自己写的Model可能还要调用网络请求的封装方法或者其它方法来获取更新数据</li>
</ol>
<h1 id="二、MVP"><a href="#二、MVP" class="headerlink" title="二、MVP"></a>二、MVP</h1><h2 id="Presenter"><a href="#Presenter" class="headerlink" title="Presenter"></a>Presenter</h2><p>Presenter的作用主要是弱化Model，Presenter中具体定义方法调用Model中方法，如果是AndroidViewModel，那么Presenter的作用就<br>是改变AndroidViewModel数据的变化。</p>
<p>Presenter要能够设置给对用页面的View。</p>
<p>使用时定义BasePresenter接口，内部定义Presenter的一些通用方法。</p>
<h2 id="BaseView"><a href="#BaseView" class="headerlink" title="BaseView"></a>BaseView</h2><p>BaseView为一个接口，内部一定要有设置给对其设置Presenter对象的方法。</p>
<p>最后实现BaseView的一定是Activity，在Activity中可以实例化Presenter，并调用设置Presenter对象的方法将其传递给View。</p>
<h2 id="Contract"><a href="#Contract" class="headerlink" title="Contract"></a>Contract</h2><p>将一个页面对应的Presenter和BaseView都以内部类的形式组合在Contract中</p>
<ol>
<li>定义BasePresenter的子类，其中写对应页面对其Model的数据的获取及改变</li>
<li>定义子接口继承BaseView，其中丰富对对应页面的View设置文字和图片(数据)的方法，Activity实现子接口，<br>什么时候调用还是在Controller的点击事件或者对AndroidViewModel的数据监测observe方法中。</li>
</ol>
<p>好处: 方便管理和查看对Model的获取及改变，方便查看对View的设置都有哪些。</p>
<p>弊端: 如果页面很复杂，Model的获取及改变很多，View的设置也很多，Contract作为两者的容器会非常庞大臃肿。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2016深圳小梅沙-2019回忆记录" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/07/2016%E6%B7%B1%E5%9C%B3%E5%B0%8F%E6%A2%85%E6%B2%99-2019%E5%9B%9E%E5%BF%86%E8%AE%B0%E5%BD%95/" class="article-date">
      <time datetime="2019-11-07T06:22:08.000Z" itemprop="datePublished">2019-11-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/2016%E6%B7%B1%E5%9C%B3%E5%B0%8F%E6%A2%85%E6%B2%99-2019%E5%9B%9E%E5%BF%86%E8%AE%B0%E5%BD%95/">2016深圳小梅沙-2019回忆记录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="小梅沙"><a href="#小梅沙" class="headerlink" title="小梅沙"></a>小梅沙</h1><h2 id="M180路"><a href="#M180路" class="headerlink" title="M180路"></a>M180路</h2><p><strong>起：风和日丽北(公交站)</strong></p>
<p><strong>终：小梅沙(公交站)</strong></p>
<p><strong>票价：8元</strong></p>
<h1 id="酒店"><a href="#酒店" class="headerlink" title="酒店"></a>酒店</h1><p><strong>好像都在公交站往西，十字路口左转的那条街上(人民路)</strong></p>
<p><strong>记不得</strong></p>
<h1 id="吃饭"><a href="#吃饭" class="headerlink" title="吃饭"></a>吃饭</h1><p><strong>记不得</strong></p>
<h1 id="超市"><a href="#超市" class="headerlink" title="超市"></a>超市</h1><p><strong>记不得</strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Android导航栏实现之TabLayout-ViewPager" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/07/Android%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%AE%9E%E7%8E%B0%E4%B9%8BTabLayout-ViewPager/" class="article-date">
      <time datetime="2019-11-07T06:11:18.000Z" itemprop="datePublished">2019-11-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/Android%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%AE%9E%E7%8E%B0%E4%B9%8BTabLayout-ViewPager/">Android导航栏实现之TabLayout+ViewPager</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Android导航栏实现"><a href="#Android导航栏实现" class="headerlink" title="Android导航栏实现"></a>Android导航栏实现</h1><h2 id="1-TabLayout"><a href="#1-TabLayout" class="headerlink" title="1. TabLayout"></a>1. TabLayout</h2><pre><code>&lt;com.google.android.material.tabs.TabLayout
    android:id=&quot;@+id/tl_personal_menu&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;@dimen/qb_px_195&quot;
    app:layout_constraintTop_toBottomOf=&quot;@+id/rl_personal_message&quot;
    app:tabBackground=&quot;@color/white&quot;
    app:tabIndicatorColor=&quot;@color/green&quot;
    app:tabIndicatorHeight=&quot;@dimen/qb_px_10&quot;
    app:tabMode=&quot;scrollable&quot;
    app:tabSelectedTextColor=&quot;@color/red&quot;
    app:tabTextAppearance=&quot;@android:style/TextAppearance.Holo.Medium&quot;
    app:tabTextColor=&quot;@color/black&quot;&gt;

&lt;/com.google.android.material.tabs.TabLayout&gt;
</code></pre>
<p>可能需要在build.gradle中添加依赖，但不知道添加啥，关系太乱了</p>
<h2 id="2-ViewPager"><a href="#2-ViewPager" class="headerlink" title="2. ViewPager"></a>2. ViewPager</h2><p><strong>ViewPager的布局和TabLayout是并列关系，并不是将ViewPager放在TabLayout中，TabLayout只是用来存放导航栏Tabs的</strong></p>
<pre><code>&lt;androidx.viewpager.widget.ViewPager
    android:id=&quot;@+id/vp_personal_list&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;0dp&quot;
    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;
    app:layout_constraintTop_toBottomOf=&quot;@+id/tl_personal_menu&quot; /&gt;
</code></pre>
<h2 id="3-PagerAdapter"><a href="#3-PagerAdapter" class="headerlink" title="3. PagerAdapter"></a>3. PagerAdapter</h2><p><strong>ViewPager的Adapter，注意重写方法：</strong></p>
<pre><code>@Override
public CharSequence getPageTitle(int position) &#123;
    return null;                          //页卡标题
&#125;
</code></pre>
<h2 id="4-TabLayout与ViewPager相关联"><a href="#4-TabLayout与ViewPager相关联" class="headerlink" title="4. TabLayout与ViewPager相关联"></a>4. TabLayout与ViewPager相关联</h2><pre><code>v.tl_personal_menu.setupWithViewPager(v.vp_personal_list)
</code></pre>
<p><strong>4-1 关联前，自已可以利用如下方法设置导航栏样式：</strong></p>
<pre><code>if (personalTabImgs.size == personalTabTxts.size) &#123;
    for (index in personalTabImgs.indices) &#123;
        val tabView = LayoutInflater.from(context)
             .inflate(R.layout.tab_personal, v.tl_personal_menu, false)
        tabView.iv_tab_personal.setImageResource(personalTabImgs[index])
        tabView.tv_tab_personal.text = personalTabTxts[index]

        val tab = v.tl_personal_menu.newTab()  // 重点是这里的newTab方法
        // tab.text = personalTabTxts[index]
        // tab.icon = context!!.resources.getDrawable(personalTabImgs[index], null)
        tab.customView = tabView

        v.tl_personal_menu.addTab(tab)
    &#125;
&#125;
</code></pre>
<p><strong>4-2 关联后，之前设置的导航栏样式将被PagerAdapter中的getPageTitle方法返回的字符串所顶替，就是说之前设置的有图片有文字的导航栏Tab会变成只有文字的。</strong></p>
<p><strong>4-3 想要在关联后导航栏Tab也是自定义的样式，需要在PagerAdapter中写一个自己的方法返回View对象，例如：</strong></p>
<pre><code>// 在自己的PagerAdapter中写
@SuppressLint(&quot;InflateParams&quot;)
public View getPageTitleView(int position) &#123;
    View tabView = LayoutInflater.from(context)
            .inflate(R.layout.tab_personal, null);
    ImageView ivTab = tabView.findViewById(R.id.iv_tab_personal);
    ivTab.setImageResource(personalTabImgs[position]);
    TextView tvTab = tabView.findViewById(R.id.tv_tab_personal);
    tvTab.setText(personalTabTxts[position]);
    return tabView;
&#125;
</code></pre>
<p><strong>然后在关联之后利用for循环做如下设置，即使在关联后再执行一次 <code>4-1</code> 中的自定义导航栏设置，也是错误的，newTabs只会在Adapter决定的导航Tabs之后继续添加新建的这些Tabs</strong></p>
<pre><code>//设置自定义tab
for (i in 0 until v.tl_personal_menu.tabCount) &#123;
    val tab = v.tl_personal_menu.getTabAt(i)  // 重点是这里的getTabAt方法
    tab!!.customView = adapter.getPageTitleView(i)
&#125;
</code></pre>
<p>附: 图片和文字自定义的数组</p>
<pre><code>private var personalTabImgs: IntArray =
    intArrayOf(R.drawable.avater1, R.drawable.avater2, R.drawable.avater3, R.drawable.avater4)
private var personalTabTxts: Array&lt;String&gt; = arrayOf(&quot;tab one&quot;, &quot;tab two&quot;, &quot;tab three&quot;, &quot;tab four&quot;)    
</code></pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%99%B4-%E7%AB%8B%E5%86%AC%E5%89%8D%E4%B8%80%E5%A4%A9/" rel="tag">晴(立冬前一天)</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Android进程间通信浅析与确保只使用一个进程服务" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/07/Android%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E6%B5%85%E6%9E%90%E4%B8%8E%E7%A1%AE%E4%BF%9D%E5%8F%AA%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1/" class="article-date">
      <time datetime="2019-11-07T06:10:58.000Z" itemprop="datePublished">2019-11-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/Android%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E6%B5%85%E6%9E%90%E4%B8%8E%E7%A1%AE%E4%BF%9D%E5%8F%AA%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1/">Android进程间通信浅析与确保只使用一个进程服务</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Android进程间通信"><a href="#Android进程间通信" class="headerlink" title="Android进程间通信"></a>Android进程间通信</h1><p><strong>1. 进程间通信，首先就是想到aidl，但是aidl文件并不是任意一个进程，它只是定义我们的app和共享进程之间的桥梁设计，里面有我们的app可以使用的方法，例如获取共享进程的版本信息、当前连接着共享进程的app个数、启动共享进程中的某个功能等等。</strong></p>
<p><strong>2. 这里的共享进程其实就是一个Android四大组件之一的Service，它就是通过aidl中定义的桥梁和我们的可以是很多app间进行通信</strong></p>
<p><strong>3. 可以在github搜索 dronekit-android，它是一套非常完美的进程间通信的示例，它的作用是建立Android设备和无人机(例如PX4)之间的连接以及数据通信。下面的一些示例很多都出自这里。</strong></p>
<h2 id="一-aidl文件"><a href="#一-aidl文件" class="headerlink" title="一. aidl文件"></a>一. aidl文件</h2><p>好的aidl文件的示例：</p>
<pre><code>interface IDroidPlannerServices &#123;
    int getServiceVersionCode();
    void releaseDroneApi(IDroneApi droneApi);
    int getApiVersionCode();
    IDroneApi registerDroneApi(IApiListener listener, String appId);
    Bundle[] getConnectedApps(String requesterId);
&#125;
</code></pre>
<p>定义好aidl文件后，编译即可自动生成同名的java文件，在build/generated/source/aidl目录下</p>
<p><strong>这个java文件的每一部分在使用时都至关重要</strong></p>
<h3 id="1-Stub-asInterface-android-os-IBinder-obj"><a href="#1-Stub-asInterface-android-os-IBinder-obj" class="headerlink" title="1. Stub.asInterface(android.os.IBinder obj)"></a>1. Stub.asInterface(android.os.IBinder obj)</h3><p>这个方法返回此java类的对象，那么它的参数从哪里传，在通过bindService方法连接共享进程的时候有一个ServiceConnection的监听，监听的方法内有一个IBinder对象，该方法就是在绑定共享进程的时候在此监听中使用：</p>
<pre><code>private IDroidPlannerServices o3drServices;

private final AtomicBoolean isServiceConnecting = new AtomicBoolean(false);

private final ServiceConnection o3drServicesConnection = new ServiceConnection() &#123;

    @Override
    public void onServiceConnected(ComponentName name, IBinder service) &#123;
        isServiceConnecting.set(false);

        o3drServices = IDroidPlannerServices.Stub.asInterface(service);
        try &#123;
            o3drServices.asBinder().linkToDeath(binderDeathRecipient, 0);
            notifyTowerConnected();
        &#125; catch (RemoteException e) &#123;
            notifyTowerDisconnected();
        &#125;
    &#125;

    @Override
    public void onServiceDisconnected(ComponentName name) &#123;
        isServiceConnecting.set(false);
        notifyTowerDisconnected();
    &#125;
&#125;;
</code></pre>
<h3 id="2-asBinder"><a href="#2-asBinder" class="headerlink" title="2. asBinder()"></a>2. asBinder()</h3><p>返回IBinder对象，使用可以看到也在上面使用，对其添加了一个app和共享进程之间的连接断开的监听</p>
<h3 id="3-内部静态抽象类Stub"><a href="#3-内部静态抽象类Stub" class="headerlink" title="3. 内部静态抽象类Stub"></a>3. 内部静态抽象类Stub</h3><p>实现aidl中定义的桥梁方法的关键类，除了一中的使用，要看它的具体实现子类DPServices，这子类中便是共享进程具体去实现aidl中定义的所有方法。 <code>（其实具体实现还是在共享进程&lt;四大组件之一Service&gt;中，DPServices只是具体的通信代理者，不像aidl只是抽象接口）</code></p>
<h2 id="二-共享进程Service"><a href="#二-共享进程Service" class="headerlink" title="二. 共享进程Service"></a>二. 共享进程Service</h2><p><strong>没什么好说的，就是干活的</strong></p>
<h2 id="三-怎么确保很多App使用的都是同一个共享进程Service，而不是又重新启动了一个新的Service，也就是正确的绑定这个服务才是最重要的"><a href="#三-怎么确保很多App使用的都是同一个共享进程Service，而不是又重新启动了一个新的Service，也就是正确的绑定这个服务才是最重要的" class="headerlink" title="三. 怎么确保很多App使用的都是同一个共享进程Service，而不是又重新启动了一个新的Service，也就是正确的绑定这个服务才是最重要的"></a>三. 怎么确保很多App使用的都是同一个共享进程Service，而不是又重新启动了一个新的Service，也就是正确的绑定这个服务才是最重要的</h2><h3 id="1-先来看-bindService-Intent-service-NonNull-ServiceConnection-conn-BindServiceFlags-int-flags-的三个参数-第二个参数可以在-（一）-中的-第1小点-中知道如何创建及作用，第三个参数一般传-Context-BIND-AUTO-CREATE-常量，所以要想做好绑定都是在第一个参数Intent的处理上"><a href="#1-先来看-bindService-Intent-service-NonNull-ServiceConnection-conn-BindServiceFlags-int-flags-的三个参数-第二个参数可以在-（一）-中的-第1小点-中知道如何创建及作用，第三个参数一般传-Context-BIND-AUTO-CREATE-常量，所以要想做好绑定都是在第一个参数Intent的处理上" class="headerlink" title="1. 先来看 bindService(Intent service, @NonNull ServiceConnection conn, @BindServiceFlags int flags); 的三个参数,第二个参数可以在 （一） 中的 第1小点 中知道如何创建及作用，第三个参数一般传 Context.BIND_AUTO_CREATE 常量，所以要想做好绑定都是在第一个参数Intent的处理上"></a>1. 先来看 <code>bindService(Intent service, @NonNull ServiceConnection conn, @BindServiceFlags int flags);</code> 的三个参数,第二个参数可以在 <code>（一）</code> 中的 <code>第1小点</code> 中知道如何创建及作用，第三个参数一般传 <code>Context.BIND_AUTO_CREATE</code> 常量，所以要想做好绑定都是在第一个参数Intent的处理上</h3><h3 id="2-创建Intent传递一个action，标识共享进程的，在AndroidManifest-xml文件中注册是定义；通过PackageManger和这个Intent是可以查到这个共享进程的Service启动个数的，如果已经创建，可以改变Intent的设置直接使用这个已启动的Service"><a href="#2-创建Intent传递一个action，标识共享进程的，在AndroidManifest-xml文件中注册是定义；通过PackageManger和这个Intent是可以查到这个共享进程的Service启动个数的，如果已经创建，可以改变Intent的设置直接使用这个已启动的Service" class="headerlink" title="2. 创建Intent传递一个action，标识共享进程的，在AndroidManifest.xml文件中注册是定义；通过PackageManger和这个Intent是可以查到这个共享进程的Service启动个数的，如果已经创建，可以改变Intent的设置直接使用这个已启动的Service"></a>2. 创建Intent传递一个action，标识共享进程的，在AndroidManifest.xml文件中注册是定义；通过PackageManger和这个Intent是可以查到这个共享进程的Service启动个数的，如果已经创建，可以改变Intent的设置直接使用这个已启动的Service</h3><pre><code>Intent getAvailableServicesInstance(@NonNull final Context context) &#123;
    final PackageManager pm = context.getPackageManager();

    //Check if an instance of the services library is up and running.
    final Intent serviceIntent = new Intent(SERVICES_CLAZZ_NAME);
    final List&lt;ResolveInfo&gt; serviceInfos = pm.queryIntentServices(serviceIntent, PackageManager.GET_META_DATA);
    if(serviceInfos != null &amp;&amp; !serviceInfos.isEmpty())&#123;
        Log.e(&quot;ServiceIntent&quot;, &quot;serviceInfos size = &quot; + serviceInfos.size());
        for(ResolveInfo serviceInfo : serviceInfos) &#123;
            final Bundle metaData = serviceInfo.serviceInfo.metaData;
            if (metaData == null)
                continue;

            final int coreLibVersion = metaData.getInt(METADATA_KEY, INVALID_LIB_VERSION);
            if (coreLibVersion != INVALID_LIB_VERSION &amp;&amp; coreLibVersion &gt;= VersionUtils.getCoreLibVersion(context)) &#123;
                serviceIntent.setClassName(serviceInfo.serviceInfo.packageName, serviceInfo.serviceInfo.name);
                Log.e(&quot;ServiceIntent&quot;, METADATA_KEY + &quot; = &quot; + coreLibVersion);
                Log.e(&quot;ServiceIntent&quot;, &quot;serviceInfo.serviceInfo.packageName = &quot; + serviceInfo.serviceInfo.packageName);
                Log.e(&quot;ServiceIntent&quot;, &quot;serviceInfo.serviceInfo.name = &quot; + serviceInfo.serviceInfo.name);
                return serviceIntent;
            &#125;
        &#125;
    &#125;

    //Didn&#39;t find any that&#39;s up and running. Enable the local one
    DroidPlannerService.enableDroidPlannerService(context, true);
    serviceIntent.setClass(context, DroidPlannerService.class);
    Log.e(&quot;ServiceIntent&quot;, &quot;serviceIntent action = &quot; + serviceIntent.getAction());
    Log.e(&quot;ServiceIntent&quot;, &quot;serviceIntent class = &quot; + serviceIntent.getComponent().getPackageName()
            + &quot;.&quot; + serviceIntent.getComponent().getClassName());
    return serviceIntent;
&#125;
</code></pre>
<h3 id="3-虽然是改变了Intent的设置来使用已存在的Service，但是当我们继续启动，继续查询List的个数时，还是会发现个数在不断的增加，这里处理的关键就是上面的-DroidPlannerService-enableDroidPlannerService-context-true-这句话。"><a href="#3-虽然是改变了Intent的设置来使用已存在的Service，但是当我们继续启动，继续查询List的个数时，还是会发现个数在不断的增加，这里处理的关键就是上面的-DroidPlannerService-enableDroidPlannerService-context-true-这句话。" class="headerlink" title="3. 虽然是改变了Intent的设置来使用已存在的Service，但是当我们继续启动，继续查询List的个数时，还是会发现个数在不断的增加，这里处理的关键就是上面的 DroidPlannerService.enableDroidPlannerService(context, true); 这句话。"></a>3. 虽然是改变了Intent的设置来使用已存在的Service，但是当我们继续启动，继续查询List<ResolveInfo>的个数时，还是会发现个数在不断的增加，这里处理的关键就是上面的 <code>DroidPlannerService.enableDroidPlannerService(context, true);</code> 这句话。</h3><pre><code>public static void enableDroidPlannerService(Context context, boolean enable)&#123;
    final ComponentName serviceComp = new ComponentName(context, DroidPlannerService.class);
    final int newState = enable ? PackageManager.COMPONENT_ENABLED_STATE_ENABLED
            : PackageManager.COMPONENT_ENABLED_STATE_DISABLED;

    context.getPackageManager().setComponentEnabledSetting(serviceComp, newState, PackageManager.DONT_KILL_APP);
&#125;
</code></pre>
<h3 id="4-上面的方法通俗的讲就是是否允许这个共享进程启动，第二个参数true即允许，false即不允许，首次启动一定设为true，如果只在这里设置，当第一个app启动成功后，不断开，后面的app都可以启动成功，但是断开后，别的app都无法绑定成功，所以在共享进程Service的onDestory生命周期中调用-enableDroidPlannerService-getApplicationContext-false"><a href="#4-上面的方法通俗的讲就是是否允许这个共享进程启动，第二个参数true即允许，false即不允许，首次启动一定设为true，如果只在这里设置，当第一个app启动成功后，不断开，后面的app都可以启动成功，但是断开后，别的app都无法绑定成功，所以在共享进程Service的onDestory生命周期中调用-enableDroidPlannerService-getApplicationContext-false" class="headerlink" title="4. 上面的方法通俗的讲就是是否允许这个共享进程启动，第二个参数true即允许，false即不允许，首次启动一定设为true，如果只在这里设置，当第一个app启动成功后，不断开，后面的app都可以启动成功，但是断开后，别的app都无法绑定成功，所以在共享进程Service的onDestory生命周期中调用 enableDroidPlannerService(getApplicationContext(), false);"></a>4. 上面的方法通俗的讲就是是否允许这个共享进程启动，第二个参数true即允许，false即不允许，首次启动一定设为true，如果只在这里设置，当第一个app启动成功后，不断开，后面的app都可以启动成功，但是断开后，别的app都无法绑定成功，所以在共享进程Service的onDestory生命周期中调用 <code>enableDroidPlannerService(getApplicationContext(), false);</code></h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%99%B4-%E7%AB%8B%E5%86%AC%E5%89%8D%E4%B8%80%E5%A4%A9/" rel="tag">晴(立冬前一天)</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-糟糕的地铁" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/09/10/%E7%B3%9F%E7%B3%95%E7%9A%84%E5%9C%B0%E9%93%81/" class="article-date">
      <time datetime="2019-09-10T01:58:38.000Z" itemprop="datePublished">2019-09-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/10/%E7%B3%9F%E7%B3%95%E7%9A%84%E5%9C%B0%E9%93%81/">糟糕的地铁</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-今早下雨"><a href="#一-今早下雨" class="headerlink" title="一. 今早下雨"></a>一. 今早下雨</h2><p>&emsp;&emsp;昨晚刚下班，5:30，在公司窗口亲眼看着第一波那个大的雨滴，没想法到第二天还是一直下，7点起床，想着今天早点走，免的地铁挤甚至迟到，想想地铁上都是带把湿伞就可怕。</p>
<p>&emsp;&emsp;起来去厕所，看见门关着，里面灯开着估计有人，就回屋了，又一想得赶紧走，心想离地铁站也不远，直接去地铁站上厕所就好，就去厨房洗了把脸，洗完后收拾收拾关了门，又看了下卫生间，能上就上了，结果还是那样，只好拿着伞出了门。</p>
<p>&emsp;&emsp;出小区大门，鞋带开了，右脚，绑好赶紧去地铁站。</p>
<p>&emsp;&emsp;来到地铁，车没来，早上一般三分钟一趟，鞋带还开了，又是右脚，绑好，想着上完厕所说不定正好赶上，结果一找厕所在地铁站的另一头，没办法只能过去上，走到一半，车来了，7:22，看着那车上的人那叫一个少啊，上完厕所反正是来不及上这趟了。</p>
<h2 id="二-地铁智障1"><a href="#二-地铁智障1" class="headerlink" title="二. 地铁智障1"></a>二. 地铁智障1</h2><p>&emsp;&emsp;7:25，第二趟车来了，车头位置一般人也不多，以前也经常坐，上车座位对的走廊人也满了，也只能站在门口，想着往里站站，后面还会上很多人，就在门口对的那个柱子的右侧那块。</p>
<p>&emsp;&emsp;我上的时候看见那煞笔还往前走了走，就想着可能他过一两站就下了，就挨着他站在他前面，想着等他走了我就过后面，结果好几站过去了，人越来越多，那煞笔还在那，我是只能和那煞笔越来越近，最后也只是挤的他往后挪了挪，中间我都看到他后面那个大叔嫌靠的座位侧面的玻璃那个角不舒服还做了做活动。</p>
<p>&emsp;&emsp;他往后挪了那么多，后面位置还是很大，后来人越来越多，还好左侧的姑娘让了点位置，我才能又往里挪了些。</p>
<p>&emsp;&emsp;我下车的前两站，换乘站，下车的人不少，他后面那大叔要下车，就过车门口了，后面总算站开了，我也站在他左侧，算第二排的位置了吧，结果那煞笔居然也往前走了一大步那距离，都算第三排了。大叔靠门那位置被旁边的人靠过去了，也是我能到第二排的原因。我心想这货可能也下车，结果并没有，换乘站上车的人也不少，那货硬是能卡着那么大的地方不动，我后面也有站的人，我还再往左了些想着后面的人站我旁边第二排，也就是那煞笔后后面那么大的空地，结果后面的人看见也没过去，这煞笔站的位置真他们的尴尬。</p>
<p>&emsp;&emsp;最后我到站了，这煞笔还站在那，后面还是那么大位置，我从霍营到北土城啊。</p>
<h2 id="三-地铁智障2"><a href="#三-地铁智障2" class="headerlink" title="三. 地铁智障2"></a>三. 地铁智障2</h2><p>&emsp;&emsp;出了车头第一节车厢，北土城是有栏杆的，需要往车来的方向走走才能有个口过去然后去换乘，到口的时候车门开始“嘀嘀嘀”响，是要关门了，这时候我看见侧面一个人狂奔，最后还是上了车。</p>
<p>&emsp;&emsp;也就是这时候早，下北土城的人还不是特别多，要不然我走不到栏杆口门就关了，更别说那人能穿过人上车，但是这人并不是我要说的智障，我觉得他还挺幸运的，赶上了那趟车。</p>
<p>&emsp;&emsp;我要说的智障是走我前面那个，正常人看见旁边有人冲着上车，都会让一让，让他先过去，但那煞笔一心低头玩手机，最后应该是被冲的那人擦了下，最后手机没拿稳，啪嚓掉地上了。也很奇怪，我看见赶地铁那人人都上去了，车门都关了，那不长眼的手机才掉，还连着耳机，摔地上的声音真的还挺响的。心里默默喊了句Nice，冲地铁的人干的漂亮，摔手机的连那人都没看见，更别说去追人家理论了，人都上车了，给这种人点教训是真的好。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9B%A8/" rel="tag">雨</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/09/04/hello-world/" class="article-date">
      <time datetime="2019-09-04T06:10:26.818Z" itemprop="datePublished">2019-09-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/04/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-第一篇博客" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/09/04/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" class="article-date">
      <time datetime="2019-09-04T02:18:03.000Z" itemprop="datePublished">2019-09-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/04/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">第一篇博客</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="hexo安装"><a href="#hexo安装" class="headerlink" title="hexo安装"></a>hexo安装</h1><h2 id="一、-下载安装"><a href="#一、-下载安装" class="headerlink" title="一、 下载安装"></a>一、 下载安装</h2><p><code>方式一</code>： 利用npm安装，需要是全局安装-g，命令行：    </p>
<pre><code>    npm install -g hexo-cli
</code></pre>
<p>这种方式从网络下载并安装hexo，且hexo的环境变量自动添加</p>
<p><code>方式二</code>: 利用 <code>hexo</code> 在 <code>github</code> 上的源码，地址为： </p>
<pre><code>    https://github.com/hexojs/hexo.git
</code></pre>
<p>源码下载后，进入源码hexo目录，执行 <code>npm install</code> 安装hexo，将在源码目录下多出node_modules目录和package-lock.json文件，即安装成功</p>
<p>这种方式需要将源码 <code>bin</code> 目录配置为全局环境变量，之后才能使用hexo命令</p>
<p><strong>使用任意一种方式安装完成后使用 <code>hexo version</code> 可查看是否安装成功</strong></p>
<h2 id="二、-初始化"><a href="#二、-初始化" class="headerlink" title="二、 初始化"></a>二、 初始化</h2><p><code>方式一</code>：有了hexo命令之后，执行：     </p>
<p><strong>注意: 执行之前选好文件夹，命令会在文件夹下下载安装文件</strong>    </p>
<pre><code>    hexo init
</code></pre>
<p><code>方式二</code>: 该语句其实就是下载安装了hexojs的另一个仓库中的代码，地址为： </p>
<pre><code>    https://github.com/hexojs/hexo-starter.git
</code></pre>
<p>源码下载后，进入源码hexo-starter目录，执行 <code>npm install</code> 安装hexo-starter</p>
<p>进入子目录themes，继续下载主题源码，具体可参考 <code>https://hexo.io/themes/</code> ，例如默认样式</p>
<pre><code>    https://github.com/hexojs/hexo-theme-landscape.git
</code></pre>
<p>之后在配置文件 <code>_config.yml</code> 中将 theme: 的值改为你的样式目录名称</p>
<p><strong>用这种方式直接下载安装源码也可</strong></p>
<h2 id="三、-新建博客"><a href="#三、-新建博客" class="headerlink" title="三、 新建博客"></a>三、 新建博客</h2><p>命令行： </p>
<pre><code>    hexo new &quot;文章名称&quot;
</code></pre>
<p>实际是在(二)中的目录 /source/_posts 下生成了一个MarkDown文件    </p>
<p><strong>熟悉MarkDown的可以直接使用MarkDown编辑md文件，然后将文件放至该目录</strong></p>
<h2 id="四、-本地浏览"><a href="#四、-本地浏览" class="headerlink" title="四、 本地浏览"></a>四、 本地浏览</h2><ol>
<li><p>启动本地localhost，启动后 <code>_config.yml</code> 配置修改不能刷新，刷新需要在命令行 <code>ctrl + c</code> 关闭再重新执行该命令，命令行：        </p>
<pre><code> 注意：此时启动服务直接访问localhost:4000会是空界面，必须用步骤2生成静态网站

 hexo server
</code></pre>
</li>
<li><p>生成静态网站，命令行：    </p>
<pre><code> hexo generate
</code></pre>
</li>
<li><p>访问 localhost:4000</p>
</li>
</ol>
<h2 id="五、-关联github"><a href="#五、-关联github" class="headerlink" title="五、 关联github"></a>五、 关联github</h2><p><strong>建议不使用hexo-git插件，直接建立 <code>用户名.github.io</code> 仓库，直接提交步骤二的目录下的public目录，之后自行用git命令行管理</strong></p>
<p>插件使用： 懒得写  参考 <a target="_blank" rel="noopener" href="https://hexo.io/plugins/">https://hexo.io/plugins/</a></p>
<pre><code>  插件源码地址  https://github.com/hexojs/hexo-deployer-git
</code></pre>
<p>看Readme.md</p>
<pre><code>  命令有  npm install hexo-deployer-git --save

  之后还有配置很多 `_config.yml` 中的参数

  最后使用   hexo deploy 上传， 还很不好管理commit信息
</code></pre>
<p><strong>建议还是用git自己管理吧</strong></p>
<p>最后访问 <code>https://用户名.github.io</code> 查看，这和hexo一点关系都没有，这是github独立的，只要你有仓库<code>用户名.github.io</code>，就能访问那个地址</p>
<h2 id="六、-关联自己域名"><a href="#六、-关联自己域名" class="headerlink" title="六、 关联自己域名"></a>六、 关联自己域名</h2><p>  不会</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2019-2021 Minla
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>